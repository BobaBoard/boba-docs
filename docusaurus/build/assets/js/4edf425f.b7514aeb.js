"use strict";(self.webpackChunkbobadocs=self.webpackChunkbobadocs||[]).push([[6400],{5318:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7378);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),l=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),h=i,m=u["".concat(d,".").concat(h)]||u[h]||c[h]||o;return n?a.createElement(m,r(r({ref:t},p),{},{components:n})):a.createElement(m,r({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var l=2;l<o;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5442:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(5773),i=(n(7378),n(5318));const o={sidebar_position:1},r="Introduction to APIs",s={unversionedId:"engineering/boba-backend/APIs/intro",id:"engineering/boba-backend/APIs/intro",title:"Introduction to APIs",description:"APIs allow applications (clients) to interact with another application (server) without unfettered access to the underlying data, or to the whole set of operations that can be executed on it. In short, an API is a contract defined by the server that establishes a common language that clients can use to communicate with it. Most operations allowed by APIs boil down to fetching, storing or updating data.",source:"@site/docs/engineering/boba-backend/APIs/intro.md",sourceDirName:"engineering/boba-backend/APIs",slug:"/engineering/boba-backend/APIs/intro",permalink:"/docs/engineering/boba-backend/APIs/intro",draft:!1,editUrl:"https://github.com/essential-randomness/bobadocs/edit/main/docs/engineering/boba-backend/APIs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"engineering",previous:{title:"Getting Started",permalink:"/docs/engineering/boba-backend/getting-started"},next:{title:"How to work with endpoints",permalink:"/docs/engineering/boba-backend/APIs/creating-endpoints"}},d={},l=[{value:"How a REST API works",id:"how-a-rest-api-works",level:2},{value:"REST API example",id:"api-example",level:2},{value:"GET: Fetch the data for a contribution in a thread",id:"get-fetch-the-data-for-a-contribution-in-a-thread",level:3},{value:"POST: Create a new contribution in a thread",id:"post-create-a-new-contribution-in-a-thread",level:3},{value:"PUT: Update a contribution in a thread",id:"put-update-a-contribution-in-a-thread",level:3},{value:"DELETE: Delete a contribution in a thread",id:"delete-delete-a-contribution-in-a-thread",level:3}],p={toc:l};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"introduction-to-apis"},"Introduction to APIs"),(0,i.kt)("p",null,"APIs allow applications (clients) to interact with another application (server) without unfettered access to the underlying data, or to the whole set of operations that can be executed on it. In short, an API is a contract defined by the server that establishes a common language that clients can use to communicate with it. Most operations allowed by APIs boil down to fetching, storing or updating data."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"You can explore the full BobaBackend API on the ",(0,i.kt)("a",{parentName:"p",href:"/docs/engineering/rest-api/"},"REST API documentation page"),".")),(0,i.kt)("p",null,"While there are no enforced rules about how APIs should be defined, BobaBackend's API implements ",(0,i.kt)("a",{parentName:"p",href:"https://www.redhat.com/en/topics/api/what-is-a-rest-api"},"a special set of API guidelines")," called REST. Among the advantages of adhering to REST principles, is that REST APIs are easier to reason about, define, and scale. You can read about the REST principles followed by BobaBackend in the ",(0,i.kt)("a",{parentName:"p",href:"./API-guidelines"},"API guidelines")," page."),(0,i.kt)("h2",{id:"how-a-rest-api-works"},"How a REST API works"),(0,i.kt)("p",null,"REST APIs rely on the HTTP protocol, the same browsers use to navigate most webpages. In particular, a REST API defines a set of ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoints")," (URLs) that the client can access to execute operations. A REST API also defines the semantic of the data the client will send to describe the operation parameters, as well as the one of the data it will receive in response."),(0,i.kt)("p",null,"For requests, REST APIs rely on ",(0,i.kt)("a",{parentName:"p",href:"https://www.restapitutorial.com/lessons/httpmethods.html"},(0,i.kt)("inlineCode",{parentName:"a"},"HTTP methods"))," to execute different operations on the same resource using a single ",(0,i.kt)("inlineCode",{parentName:"p"},"endpoint")," associated with it. For responses, REST APIs rely on ",(0,i.kt)("a",{parentName:"p",href:"https://httpstatuses.com/"},(0,i.kt)("inlineCode",{parentName:"a"},"HTTP Status Codes"))," to communicate the result of the operation."),(0,i.kt)("p",null,"Additional data required as part of the request or response is referred to as the request/response ",(0,i.kt)("inlineCode",{parentName:"p"},"payload"),". BobaBoard's API returns responses in the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON"},(0,i.kt)("inlineCode",{parentName:"a"},"JSON format")),"."),(0,i.kt)("admonition",{type:"TODO"},(0,i.kt)("p",{parentName:"admonition"},"Add a quick explanation of different type of request parameters (URL, query and body).")),(0,i.kt)("h2",{id:"api-example"},"REST API example"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The following is a high-level example to help understand how REST APIs work. It does not reflect how BobaBackend works in practice. The source of truth for the BobaBackend API is our ",(0,i.kt)("a",{parentName:"p",href:"/docs/engineering/rest-api/"},"REST API documentation page"),".")),(0,i.kt)("p",null,"As an example, let's define the REST API endpoint that associated with contributions on a thread. This endpoint will live at the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/:thread_id/contributions/:contribution_id")," address."),(0,i.kt)("p",null,"Here are some operations that might be available to the client:"),(0,i.kt)("h3",{id:"get-fetch-the-data-for-a-contribution-in-a-thread"},"GET: Fetch the data for a contribution in a thread"),(0,i.kt)("p",null,"The client wants to ",(0,i.kt)("strong",{parentName:"p"},"fetch")," the contribution with id ",(0,i.kt)("inlineCode",{parentName:"p"},"contribution_123")," in the thread with id ",(0,i.kt)("inlineCode",{parentName:"p"},"thread_456"),". To achieve this, the client sends a ",(0,i.kt)("inlineCode",{parentName:"p"},"GET")," request to the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/thread_456/contributions/contribution_123")," endpoint."),(0,i.kt)("p",null,"Possible responses include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"200")," with a ",(0,i.kt)("inlineCode",{parentName:"li"},"payload")," that contains the contribution data."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"404")," if the contribution does not exist."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"401")," if the access requires authentication data and none was found in the request.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"GET")," requests are the default type of request the browser sends when you access a web page.")),(0,i.kt)("h3",{id:"post-create-a-new-contribution-in-a-thread"},"POST: Create a new contribution in a thread"),(0,i.kt)("p",null,"The client wants to ",(0,i.kt)("strong",{parentName:"p"},"create")," a contribution with id ",(0,i.kt)("inlineCode",{parentName:"p"},"contribution_123")," in the thread with id ",(0,i.kt)("inlineCode",{parentName:"p"},"thread_456"),". To achieve this, the client sends a ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," request to the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/thread_456/contributions/contribution_123")," endpoint. The ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," request would also include the contribution data as a ",(0,i.kt)("inlineCode",{parentName:"p"},"payload"),"."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"In practice, the contribution id would likely be determined by the server when creating the contribution. In this case, the ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," request would be sent to the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/thread_456/contributions/")," endpoint instead, and the assigned contribution id would be returned as part of the response ",(0,i.kt)("inlineCode",{parentName:"p"},"payload"),".")),(0,i.kt)("p",null,"Possible responses include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"201")," if the contribution was successfully created. This might include a ",(0,i.kt)("inlineCode",{parentName:"li"},"payload")," that contains the finalized contribution data."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"401")," if creating the contribution requires authentication data and none was found in the request."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"409")," if a contribution with the given id already exists.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"POST")," requests are most often used by browsers when submitting forms.")),(0,i.kt)("h3",{id:"put-update-a-contribution-in-a-thread"},"PUT: Update a contribution in a thread"),(0,i.kt)("p",null,"The client wants to ",(0,i.kt)("strong",{parentName:"p"},"update")," a contribution with id ",(0,i.kt)("inlineCode",{parentName:"p"},"contribution_123")," in the thread with id ",(0,i.kt)("inlineCode",{parentName:"p"},"thread_456"),". To achieve this, the client sends a ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT")," request to the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/thread_456/contributions/contribution_123")," endpoint. The ",(0,i.kt)("inlineCode",{parentName:"p"},"PUT")," request would also include the updated contribution data as a ",(0,i.kt)("inlineCode",{parentName:"p"},"payload"),"."),(0,i.kt)("p",null,"Possible responses include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"201")," if the contribution was successfully created. This might include a ",(0,i.kt)("inlineCode",{parentName:"li"},"payload")," that contains the finalized contribution data."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"403")," if the user is not authorized to update the contribution."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"404")," if the contribution does not exist.")),(0,i.kt)("h3",{id:"delete-delete-a-contribution-in-a-thread"},"DELETE: Delete a contribution in a thread"),(0,i.kt)("p",null,"The client wants to ",(0,i.kt)("strong",{parentName:"p"},"delete")," a contribution with id ",(0,i.kt)("inlineCode",{parentName:"p"},"contribution_123")," in the thread with id ",(0,i.kt)("inlineCode",{parentName:"p"},"thread_456"),". To achieve this, the client sends a ",(0,i.kt)("inlineCode",{parentName:"p"},"DELETE")," request to the ",(0,i.kt)("inlineCode",{parentName:"p"},"/threads/thread_456/contributions/contribution_123")," endpoint."),(0,i.kt)("p",null,"Possible responses include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"204")," if the contribution was successfully deleted."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"403")," if the user is not authorized to delete the contribution."),(0,i.kt)("li",{parentName:"ul"},"An HTTP Status Code of ",(0,i.kt)("inlineCode",{parentName:"li"},"404")," if the contribution does not exist.")))}c.isMDXComponent=!0}}]);